
{%extends "base2.html" %}
{%block content%}
<div class="container" style="padding-top:50px;">
<style>
    .btn{
    background-color:indianred;

}
    }
</style>
<div class="container" style="padding-top:20px;">
     <h2 id="one" style="text-align: center;"></h2>
  <div class="row">
    <div class="col"> 
    <button id="start" class="btn btn-primary mb-2 float-right" style="align-content: center;">START</button>
    </div>
    <div class="col">
    <input type="number" id="myNumber" class="form-control" id="inputPassword2">
    </div>
    <div class="col">
     <button id="next" type="submit" class="btn btn-primary mb-2">SUBMIT</button>
    </div>
  </div>
    <p id="results" style="font-size:22px; text-align: center;"></p>
</div>
<style>
    .card{
        margin: 0 auto; /* Added */
        float: none; /* Added */
        margin-bottom: 10px; /* Added */
}
    .faq{
       text-align: center;
    }
   
</style>
<div class="container" style="padding-top:70px;padding-left:auto;padding-right:auto;">
      <div class="faq"><h1> General FAQ and Information Links</h1></div> 
    <div class="card" style="width: 40rem;">
       
  <ul class="list-group list-group-flush" style="align-content: center;">
    <li class="list-group-item"><a href="#">Link 1</a></li>
    <li class="list-group-item"><a href="#">Link 2</a></li>
    <li class="list-group-item"><a href="#">Link 3</a></li>
     
  </ul>
    </div>    
</div>
</div>
<script type="text/javascript">
    var fntsz;
    var vision ="20/60";
    //dict to keep track of dict to its
    var dict = {130: "20/50", 108: "20/40", 87: "20/30", 65: "20/20", 33: "15/20", 21: "10/20", 15:"7/20",9:"4/20" }
    var dipter = {150: "-1.25",130:"-1.00",108:"-0.75",87:"-0.50",65:"Normal",33:"Super Normal"}
  $(document).ready(function() {
    var vals = [130,108,87,65,33,21,15,9];
    vals.reverse();
    $('#start').on('click',function(){
      temp = document.getElementById("one");
      temp.style.fontSize = 152 + 'pt';
      temp.innerHTML = Math.floor(Math.random() * 10);
      document.getElementById("start").innerHTML = 'START AGAIN';
    });
  $('#next').on('click', function() { // click to move next size
    var btn = $(this),
      fontSize = parseInt(window.getComputedStyle(document.body, null).fontSize, 0); // parse the body font size as a number
    if (btn[0].id === "next") { // detect the button being clicked
      fontSize = vals.pop();
      console.log(dict[fontSize])
      fntsz = dict[fontSize];
      vision = dict[fontSize];
      var curr = document.getElementById("myNumber");
      curr.value = ""
      console.log(document.getElementById("one").innerText);
      if(curr == parseInt(document.getElementById("one").innerText)){
        //console.log(curr.style.fontSize)
        if(vision == "20/20"){
          document.getElementById("results").innerHTML = 'Normal Vision';
        }else{
          document.getElementById("results").innerHTML = 'Correct';
        }
      }else{
        document.getElementById("results").innerHTML ='Vision issue of myopia by ' + vision + ' level and approx diopter is ' + dipter[fontSize]
      }
    }
    temp = document.getElementById("one");
    temp.style.fontSize = fontSize + 'pt';
    temp.innerHTML = Math.floor(Math.random() * 10);
  });


});

</script>
{% endblock %}